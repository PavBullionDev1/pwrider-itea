<ion-header>
	<div>
		<ion-toolbar class="varitaionslect ion-no-padding ion-no-margin" style="padding-top: 10px !important;">
			<ion-item class="ion-no-padding ion-no-margin" style="--inner-padding-end: 0 !important;" no-padding>
				<ion-row class="ion-align-items-end">
					<ion-col>
						<div class="txt500"><b>Item Detail</b></div>
					</ion-col>
				</ion-row>
			</ion-item>

			<ion-buttons slot="end">
				<ion-button (click)="dismiss()" class="closemodal" mode="ios" style=" bottom: 35px; right: 0;">
					<ion-icon name="close-outline" style="color: #999;"></ion-icon>
				</ion-button>
			</ion-buttons>
		</ion-toolbar>
	</div>
</ion-header>

<ion-content>
  <div class="grnlist">
    <ion-row class="polistitemv2">
      <ion-col size="6">
          <h3>Select Item Type</h3>
          <ion-select value="variation" interface="action-sheet" cancelText='Cancel' class="pickupselect"
              [(ngModel)]="modalData.item_type" (ionChange)="recalculate(modalData)">
              <ion-select-option *ngFor="let x of customerBItemTypeList"
                  value="{{x.item_type_id}}">{{x.title}}
              </ion-select-option>
          </ion-select>
      </ion-col>

        <ion-col size="6" *ngIf="modalData.item_type == 1">
          <h3>Select Item Code</h3>
          <ion-select value="variation" class="pickupselect"
              [(ngModel)]="modalData.item_code" (ionChange)="recalculate_jewel(modalData)">
              <ion-select-option *ngFor="let x of customerGoldPurityList" value="{{x.gold_pure_id}}">{{x.gold_name}}
                  ({{x.override_gold_pure_percent}}%)</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col size="6" *ngIf="modalData.is_editable == 0">
            <h3>Purity</h3>
            <h2 class="totaltitle">
                <ion-input type="number" [(ngModel)]="modalData.gold_pure_percent" disabled></ion-input>
                <!-- (ionChange)="recalculate1(modalData)" -->
            </h2>
        </ion-col>


        <ion-col size="6" *ngIf="modalData.item_type != 1">
          <h3>Select Item Code</h3>
          <ion-select value="variation" class="pickupselect"
              [(ngModel)]="modalData.item_code" (ionChange)="recalculate_jewel(modalData)">
              <ion-select-option *ngFor="let x of customerGoldPurityList" value="{{x.gold_pure_id}}">{{x.gold_name}}
                  ({{x.override_gold_pure_percent}}%)</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col size="6" *ngIf="modalData.is_editable == 1">
            <h3>Purity</h3>
            <h2 class="totaltitle" style="border: 1px solid black;">
                <ion-input type="number" [(ngModel)]="modalData.gold_pure_percent" (ionChange)="recalculate(modalData)"
                ></ion-input>
            </h2>
        </ion-col>


        <ion-col size="6">
            <h3>XAU</h3>
            <h2>
                <ion-input type="number" [(ngModel)]="modalData.XAU_amount"
                    disabled="disabled"></ion-input>
            </h2>
        </ion-col>


        <ion-row style="border-top: 2px solid #cbcbcb; width:100%">

            <ion-col size="6" class=" ion-align-self-end">
                <h3 class="totaltitle">GRAM</h3>
            </ion-col>
            <ion-col size="6">
                <h2 class="totaltitle" style="border: 1px solid black;">
                    <ion-input type="number" [(ngModel)]="modalData.gram" (ionChange)="recalculate(modalData)" #gramInput
                               (click)="gramInput.value = ''"
                    ></ion-input>
                </h2>
            </ion-col>

            <!-- <ion-col size="12" style="padding-bottom:0;">
                <ion-label><strong>Upload Photos</strong>
                    <ion-icon (click)="openActionSheet()" name="add-circle-outline"
                        style="float: right; background-color: #243a76; color: #fbd23c;font-size: 25px; border-radius: 6px; vertical-align: middle; margin-left: 10px;">
                    </ion-icon>
                </ion-label>
            </ion-col> -->

          <!-- <ion-list class="ion-padding-horizontal"> -->
            <!-- <ion-row *ngIf="imageUrl && is_multiple_image == 0">
              <ion-col size="12" class="ion-align-self-center">

                <img [src]="imageUrl" style="width: 100%;" class="logoimg">

                <ion-button (click)="delete_img(0,imageUrl)" class="buttontheme-orange" color="danger">Delete</ion-button>
              </ion-col>
              </ion-row> -->

            <!-- multiple image -->
              <!-- <ion-row *ngIf="MultipleImageUrl && is_multiple_image == 1">
              <ion-col size="12" class="ion-align-self-center" *ngFor="let item of MultipleImageUrl">

                <img [src]="item" style="width: 100%;" class="logoimg">

                <ion-button (click)="delete_img(1,item)" class="buttontheme-orange" color="danger">Delete</ion-button>
              </ion-col>
              </ion-row> -->

              <ion-col size="12">
                <h3>Select Warehouse</h3>
                <ion-select value="variation" interface="action-sheet" cancelText='Cancel' class="pickupselect"
                    [(ngModel)]="modalData.warehouse_id">
                    <ion-select-option *ngFor="let x of warehouseList" value="{{x.warehouse_id}}">{{x.name}}
                        </ion-select-option>
                </ion-select>
              </ion-col>
              <ion-col size="6" *ngIf="modalData.is_editable == 1">
                <h3>Bar Code</h3>
                <h2 class="totaltitle" style="border: 1px solid black;">
                    <ion-input type="text" style="text-align: start;" [(ngModel)]="modalData.barcode"
                    ></ion-input>
                </h2>
              </ion-col>
              <ion-col size="6" *ngIf="modalData.is_editable == 1">
                <h3>PW Bar Code</h3>
                <h2 class="totaltitle" style="border: 1px solid black;">
                    <ion-input type="text" style="text-align: start;" [(ngModel)]="modalData.pw_barcode"
                    ></ion-input>
                </h2>
              </ion-col>

            <ion-col size="12">
                <ion-button class="buttontheme-orange" mode="ios" (click)="dismiss()"
                    expand="block">Submit
                </ion-button>
            </ion-col>


            <ion-col size="12" *ngIf="is_grn">
              <ion-button color="primary" mode="ios" (click)="openActionSheet()"
                  expand="block">Upload Photos
              </ion-button>
              Upload Photo for Index: {{grnIndex}}
              <div style="border:1px solid black">
                <ion-input type="number" [(ngModel)]="grnIndex" ></ion-input>
              </div>
            </ion-col>

            <h1 *ngIf="isLoading">Uploading.. please wait..</h1>
            <ion-col size="12" *ngIf="is_grn">
              <ion-row *ngIf="modalData.MultipleImageUrl.length !== 0">
                <ion-col size="12" >
                    <ion-slides pager="true" [options]="slideOpts">
                        <!-- Item Image::Start -->
                        <ion-slide class="item-slide" *ngFor="let x of modalData.MultipleImageUrl"><!-- List item images -->
                            <div class="image-slide-content">
                              <img [src]="x.image" class="itemImage">
                              <textarea class="remark" [(ngModel)]="x.remark" rows="2">
                                </textarea>
                            </div>
                            <button (click)="delete_img(x)" class="deleteImageBtn">x</button>
                        </ion-slide>
                        <!-- Item Image::End -->
                    </ion-slides>
                </ion-col>
              </ion-row>
              <!-- <ion-grid>
                <ion-row>
                  <ion-col size="4" *ngFor="let item of modalData.MultipleImageUrl">
                    <img [src]="item" style="width: 100%;" class="logoimg">
                  </ion-col>
                </ion-row>
              </ion-grid>             -->
            </ion-col>
          <ion-col *ngIf="showImage">
            <ion-row *ngIf="showImage">
              <ion-col >

                <img [src]="showImageData" class="itemImage">
                <button (click)="show_img(showImageData)" class="deleteImageBtn">x</button>

              </ion-col>
            </ion-row>
            <!-- <ion-grid>
              <ion-row>
                <ion-col size="4" *ngFor="let item of modalData.MultipleImageUrl">
                  <img [src]="item" style="width: 100%;" class="logoimg">
                </ion-col>
              </ion-row>
            </ion-grid>             -->
          </ion-col>


        </ion-row>
    </ion-row>
  </div>
</ion-content>
<ion-footer>
  <ion-button color="danger" mode="ios" (click)="deleteItem(modalData)" expand="block">Delete Item</ion-button>
</ion-footer>
